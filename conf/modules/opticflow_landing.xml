<!DOCTYPE module SYSTEM "module.dtd">

<module name="opticflow_landing" dir="divergence_landing">
  <doc>
    <description>
		Vertical control landing using divergence
    </description>
  </doc>

  <settings>
    <dl_settings>
      <dl_settings NAME="DivergenceLanding">
        <dl_setting var="Div_landing.div_pgain" module="computer_vision/opticflow_module" min="0" step="0.01" max="10" shortname="kp_div" param="VISION_DIV_PGAIN"/>
        <dl_setting var="Div_landing.div_igain" module="computer_vision/opticflow_module" min="0" step="0.01" max="10" shortname="ki_div" param="VISION_DIV_IGAIN"/>
        <dl_setting var="Div_landing.div_dgain" module="computer_vision/opticflow_module" min="0" step="0.01" max="10" shortname="kd_div" param="VISION_DIV_DGAIN"/>
        <dl_setting var="Div_landing.nominal_throttle" module="computer_vision/opticflow_module" min="0" step="0.001" max="1" shortname="throttle" param="VISION_NOMINAL_THROTTLE"/>
        <dl_setting var="Div_landing.desired_div" module="computer_vision/opticflow_module" min="-10" step="0.01" max="10" shortname="desired_div" param="VISION_DESIRED_DIV"/>
        <dl_setting var="Div_landing.controller" module="computer_vision/opticflow_module" min="0" step="1" max="5" shortname="control" param="VISION_CONTROLLER"/> 
		<dl_setting var="Div_landing.alpha" module="computer_vision/opticflow_module" min="0" step="0.05" max="1" shortname="alpha" param="VISION_LP_ALPHA"/>
		<dl_setting var="Div_landing.t_interval_sp" module="computer_vision/opticflow_module" min="0" step="0.1" max="10" shortname="t_interval" param="VISION_T_INTERVAL"/>       
		<dl_setting var="Div_landing.delay_step" module="computer_vision/opticflow_module" min="0" step="1" max="20" shortname="delay" param="VISION_DELAY_STEP"/>       
		<dl_setting var="Div_landing.cov_method" module="computer_vision/opticflow_module" min="0" step="1" max="2" shortname="cov_m" param="VISION_COV_METHOD"/> 		         
      </dl_settings>
    </dl_settings>
  </settings>

  <header>
    <file name="divergence_landing.h"/>
  </header>

  <makefile>
    <file name="divergence_landing.c"/>
      <define name="VISION_DIV_PGAIN" value="0.3"/> <!-- 283 -->
      <define name="VISION_DIV_IGAIN" value="0.1"/> <!-- 20 -->
      <define name="VISION_DIV_DGAIN" value="0.1"/> <!-- 82 -->
      <define name="VISION_NOMINAL_THROTTLE" value="0.620"/> <!-- 0.6042 -->
      <define name="VISION_DESIRED_DIV" value="0.2"/>
      <define name="VISION_CONTROLLER" value="3"/>
      <define name="VISION_LP_ALPHA" value="0.6"/>
      <define name="VISION_T_INTERVAL" value="2.0"/>
      <define name="VISION_DELAY_STEP" value="15"/>
      <define name="VISION_COV_METHOD" value="2"/>
      <define name="COV_WIN_SIZE" value="30"/>
      <define name="VISION_COV_THRESHOLD" value="0.001"/>
  </makefile>

</module>